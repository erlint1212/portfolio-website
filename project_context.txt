Project Directory Structure:
============================
./
    ideas.md
    README.md
    flake.nix
    TODO.md
    flake.lock
    challenge.md
    go.mod
    '
    tailwind.config.js
    go.sum
    Dockerfile
    .gitignore
    internal/
        routing/
            routing.go
            structs.go
        messaging/
            subscribe.go
            publish.go
            client.go
        views/
            layout.templ
            hello_templ.go
            hello.templ
            css_loader.go
            debug_templ.go
            projects_templ.go
            debug.templ
            projects.templ
            home_templ.go
            home.templ
            layout_templ.go
            components/
        server/
            server.go
    cmd/
        web/
            main.go
    kubernetes/
        portfolio-rabbitmq-deployment.yaml
        portfolio-rabbitmq-pvc.yaml
        portfolio-rabbitmq-configmap.yaml
        portfolio-rabbitmq-service.yaml
        portfolio-deployment.yaml
        portfolio-configmap.yaml
        portfolio-service.yaml


File Contents:
==============

--- START OF FILE: ./flake.nix ---
{
  description = "Backend Archmage Portfolio Environment";

  inputs = {
    nixpkgs.url = "github:nixos/nixpkgs?ref=nixos-25.11";
    flake-utils.url = "github:numtide/flake-utils";
  };

  outputs = { self, nixpkgs, flake-utils }:
    flake-utils.lib.eachDefaultSystem (system:
      let
        pkgs = nixpkgs.legacyPackages.${system};
      in
      {
        devShells.default = pkgs.mkShell {
          buildInputs = with pkgs; [
            go
            templ
            docker
            kubectl
            minikube
            rabbitmq-server
            tailwindcss

            python313Packages.pathspec
            
            # Useful tools for debugging
            curl 
            jq
          ];

          shellHook = ''
            echo "Enter the Minikube Docker Environment"
            eval $(minikube docker-env)
            echo "Environment: GOTH: Go + Tailwind + Htmx + Templ + K8s"
            echo "------------------------------------------------"
            go version
            templ --version
            alias tgr='templ generate && tailwindcss -i ./internal/assets/css/input.css -o ./assets/css/output.css && go run cmd/web/main.go'
            alias k='kubectl'
            alias tailcomp='tailwindcss -i ./internal/assets/css/input.css -o ./assets/css/output.css'
            alias kgp='kubectl get pods'
            echo "Commands:"
            echo "Tailwind CSS (alias tailcomp): tailwindcss -i ./internal/assets/css/input.css -o ./assets/css/output.css"
            echo "RabbitMQ: kubectl port-forward service/portfolio-rabbitmq-service 5672:5672"
            echo "Website: kubectl port-forward service/portfolio-service 8000:80"
          '';
        };
      }
    );
}

--- END OF FILE: ./flake.nix ---

--- START OF FILE: ./go.mod ---
module github.com/erlint1212/portfolio

go 1.25.5

require github.com/a-h/templ v0.3.960

require github.com/rabbitmq/amqp091-go v1.10.0 // indirect

--- END OF FILE: ./go.mod ---

--- START OF FILE: ./tailwind.config.js ---
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
      "./internal/views/**/*.templ", // components
      "./internal/**/*.templ", // root
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}


--- END OF FILE: ./tailwind.config.js ---

--- START OF FILE: ./.gitignore ---
# Go Artifacts
# Binaries
/bin/
/dist/
main
portfolio
*.exe
*.test

# Vendor 
vendor/
assets/

# Nix & Direnv 
.direnv/
result
result-*

# OS & Editor Clutter 
.DS_Store
.idea/
.vscode/
*.swp
*.swo

# Project Specific Junk 
*.bak
project_context.txt
context_builder.py

--- END OF FILE: ./.gitignore ---

--- START OF FILE: ./internal/routing/routing.go ---
package routing

const (
	GameLogSlug = "game_logs"
)

const (
	ExchangePortfolioDirect = "portfolio_direct"
	ExchangePortfolioTopic  = "portfolio_topic"
)

type SimpleQueueType int

const (
	Transient SimpleQueueType = iota
	Durable
)

type AckType int

const (
	Ack AckType = iota
	NackRequeue
	NackDiscard
)


--- END OF FILE: ./internal/routing/routing.go ---

--- START OF FILE: ./internal/routing/structs.go ---
package routing

import "time"

type GameLog struct {
	CurrentTime time.Time
	Message     string
	// Username    string
}


--- END OF FILE: ./internal/routing/structs.go ---

--- START OF FILE: ./internal/messaging/subscribe.go ---
package messaging

import (
	"bytes"
	"encoding/gob"
	"fmt"
	"log"

	"github.com/erlint1212/portfolio/internal/routing"
	amqp "github.com/rabbitmq/amqp091-go"
)

func WriteLog(gl routing.GameLog) error {
	log.Printf("[GameLog] %s: %s", gl.CurrentTime.Format("15:04:05"), gl.Message)
	return nil
}

func UnmarshalGob[T any](data []byte) (T, error) {
	buffer := bytes.NewBuffer(data)
	decoder := gob.NewDecoder(buffer)
	var target T
	err := decoder.Decode(&target)
	return target, err
}

func HandlerWriteLog() func(gl routing.GameLog) routing.AckType {
	return func(gl routing.GameLog) routing.AckType {
		err := WriteLog(gl)
		if err != nil {
			log.Printf("[ERROR] Couldn't write to log: %v\n", err)
			return routing.NackDiscard
		}
		return routing.Ack
	}
}

func Subscribe[T any](
	conn *amqp.Connection,
	exchange,
	queueName,
	key string,
	queueType routing.SimpleQueueType,
	handler func(T) routing.AckType,
	unmarshaller func([]byte) (T, error),
) error {
	ch, queue, err := DeclareAndBind(conn, exchange, queueName, key, queueType)
	if err != nil {
		return fmt.Errorf("could not declare and bind queue: %v", err)
	}

	err = ch.Qos(10, 0, false)
	if err != nil {
		return fmt.Errorf("could not set qos: %v", err)
	}

	msgs, err := ch.Consume(
		queue.Name, "", false, false, false, false, nil,
	)
	if err != nil {
		return fmt.Errorf("could not consume messages: %v", err)
	}

	go func() {
		defer ch.Close()
		for msg := range msgs {
			target, err := unmarshaller(msg.Body)
			if err != nil {
				fmt.Printf("could not unmarshal message: %v\n", err)
				msg.Ack(false) 
				continue
			}
			acktype := handler(target)
			switch acktype {
			case routing.Ack:
				msg.Ack(false)
			case routing.NackRequeue:
				msg.Nack(false, true)
			case routing.NackDiscard:
				msg.Nack(false, false)
			}
		}
	}()
	return nil
}

--- END OF FILE: ./internal/messaging/subscribe.go ---

--- START OF FILE: ./internal/messaging/publish.go ---
package messaging

import (
	"bytes"
	"context"
	"encoding/gob"
	"fmt"
	"log"
	"sync"

	"github.com/erlint1212/portfolio/internal/routing"
	amqp "github.com/rabbitmq/amqp091-go"
)

type Publisher struct {
	channel *amqp.Channel
	mu      sync.Mutex 
}

func NewPublisher(conn *amqp.Connection) (*Publisher, error) {
	ch, err := conn.Channel()
	if err != nil {
		return nil, err
	}
	return &Publisher{channel: ch}, nil
}

func (p *Publisher) Close() error {
	return p.channel.Close()
}

func PublishGob[T any](ctx context.Context,ch *amqp.Channel, exchange, key string, val T) error {
	var buffer bytes.Buffer
	encoder := gob.NewEncoder(&buffer)
	err := encoder.Encode(val)
	if err != nil {
		return err
	}

	msg := amqp.Publishing{
		ContentType: "application/gob",
		Body:        buffer.Bytes(),
	}

	return ch.PublishWithContext(ctx, exchange, key, false, false, msg)
}

func (p *Publisher) PublishGameLog(ctx context.Context, gl routing.GameLog) error {
	p.mu.Lock()
	defer p.mu.Unlock()

	key := fmt.Sprintf("%s.guest", routing.GameLogSlug)

	err := PublishGob(
		ctx,
		p.channel,
		routing.ExchangePortfolioTopic,
		key,
		gl,
	)

	if err != nil {
		log.Printf("[ERROR] Error during publishing GameLog: %v", err)
		return err
	}
	return nil
}

--- END OF FILE: ./internal/messaging/publish.go ---

--- START OF FILE: ./internal/messaging/client.go ---
package messaging

import (
	amqp "github.com/rabbitmq/amqp091-go"
	"github.com/erlint1212/portfolio/internal/routing"
	"fmt"
)

type Client struct {
	Conn *amqp.Connection
}

func NewClient(url string) (*Client, error) {
	connection, err := amqp.Dial(url)
	if err != nil {
		return nil, err
	}

	client := Client{
		Conn: connection,
	}

	return &client, nil
}

func (c *Client) Close() error {
	return c.Conn.Close()
}

func DeclareAndBind(
	conn *amqp.Connection,
	exchange,
	queueName,
	key string,
	queueType routing.SimpleQueueType, // an enum to represent "durable" or "transient"
) (*amqp.Channel, amqp.Queue, error) {
	channel, err := conn.Channel()
	if err != nil {
		return nil, amqp.Queue{}, err
	}

	transient := false
	durable := false
	switch queueType {
	case routing.Transient:
		transient = true
	case routing.Durable:
		durable = true
	default:
		return nil, amqp.Queue{}, fmt.Errorf("queueType not recognized: %v", queueType)
	}

	args := amqp.Table{"x-dead-letter-exchange": "portfolio_dlx"}

	queue, err := channel.QueueDeclare(queueName, durable, transient, transient, false, args)
	if err != nil {
		return nil, amqp.Queue{}, err
	}
	fmt.Printf("Log: Name of queue \"%v\"\n", queue.Name)

	err = channel.QueueBind(queueName, key, exchange, false, nil)
	if err != nil {
		return nil, amqp.Queue{}, err
	}

	return channel, queue, err
}


--- END OF FILE: ./internal/messaging/client.go ---

--- START OF FILE: ./internal/views/layout.templ ---
package views

func navLinkClass(isActive bool) string {
	base := "block px-3 py-1.5 text-sm transition-colors duration-150 rounded-sm"
	if isActive {
		return base + " bg-black text-white font-medium"
	}
	return base + " text-gray-600 hover:text-black hover:bg-gray-100"
}

templ SidebarNav(currentPath string, oob bool) {
	<nav 
		id="sidebar-nav" 
		class="space-y-0.5 flex-grow font-medium"
		if oob {
			hx-swap-oob="true"
		}
	>
		<div class="text-[10px] uppercase tracking-widest text-gray-400 mb-2 font-mono">Directory</div>
		<a href="/" class={ navLinkClass(currentPath == "/") }>
			Index
		</a>
		<a href="/projects" class={ navLinkClass(currentPath == "/projects") }>
			Engineering
		</a>
		<a href="https://github.com/erlint1212" target="_blank" class={ navLinkClass(false) }>
			GitHub ↗
		</a>
	</nav>
}

templ Base(title string, content templ.Component, currentPath string) {
	<!DOCTYPE html>
	<html lang="en">
	<head>
		<title>{ title }</title>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
		<script src="https://unpkg.com/htmx.org@1.9.10"></script>
		@templ.Raw("<style>" + UnsafeLoadCSS() + "</style>")
	</head>
	<body class="overflow-hidden bg-white"> 
		
		<div class="swiss-layout w-full max-w-[1600px] mx-auto border-x border-gray-200 shadow-sm">
			<aside class="bg-[#fbfcff] border-r border-gray-200 flex flex-col p-6 z-20">
				<div class="mb-10">
					<div class="w-8 h-8 bg-black mb-4"></div>
					<h1 class="text-sm font-bold tracking-tight">Erling T. Nordtvedt</h1>
					<p class="text-xs text-gray-500 font-mono mt-1">MSc Data Science</p>
				</div>

				@SidebarNav(currentPath, false)
			</aside>

			<main class="relative bg-white overflow-y-auto scroll-smooth p-10 md:p-16 flex flex-col min-h-screen" id="main-viewport">
				<div class="flex-grow">
					@content
				</div>

                <nav class="space-y-0.5 flex-grow font-medium">
					<div class="text-[10px] uppercase tracking-widest text-gray-400 mb-2 font-mono">Directory</div>
					
					<a id="nav-home" href="/" class={ navLinkClass(currentPath == "/") }>
						Index
					</a>
					
					<a id="nav-projects" href="/projects" class={ navLinkClass(currentPath == "/projects") }>
						Engineering
					</a>
					
					<a href="https://github.com/erlint1212" target="_blank" class={ navLinkClass(false) }>
						GitHub ↗
					</a>
				</nav>

                <footer class="mt-24 pt-8 border-t border-gray-100 text-xs text-gray-400 font-mono">
                    <div class="flex flex-col md:flex-row justify-between gap-4">
                        <div class="flex gap-6">
                            <span>&copy; 2026 Erling T. Nordtvedt</span>
                            <span class="text-gray-300">|</span>
                            <span>Oslo, Norway</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
                            <span>Powered by the <strong class="text-gray-600 font-medium">GOTH Stack</strong></span>
                        </div>
                    </div>
                </footer>
			</main>
		</div>
	</body>
	</html>
}

--- END OF FILE: ./internal/views/layout.templ ---

--- START OF FILE: ./internal/views/hello_templ.go ---
// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Hello(name string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<h1>Hello ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(name)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/hello.templ`, Line: 4, Col: 20}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "!</h1>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate

--- END OF FILE: ./internal/views/hello_templ.go ---

--- START OF FILE: ./internal/views/hello.templ ---
package views

templ Hello(name string) {
    <h1>Hello { name }!</h1>
}

--- END OF FILE: ./internal/views/hello.templ ---

--- START OF FILE: ./internal/views/css_loader.go ---
package views

import (
	"os"
	"log"
)

// No error handling because it will be embeded directly into html
func UnsafeLoadCSS() string {
	data, err := os.ReadFile("assets/css/output.css")
	if err != nil {
		log.Printf("[WARNING] Could not load CSS: %v", err)
		return "" 
	}

	return string(data)
}

--- END OF FILE: ./internal/views/css_loader.go ---

--- START OF FILE: ./internal/views/debug_templ.go ---
// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func HtmxIndicator() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div id=\"htmx-check\" style=\"position: fixed; bottom: 10px; right: 10px; background: #333; color: #fff; padding: 5px 10px; border-radius: 5px; font-family: monospace; font-size: 12px; z-index: 9999; opacity: 0.8;\">HTMX: <span id=\"htmx-version\">Loading...</span></div><script>\n        document.addEventListener('DOMContentLoaded', () => {\n            if (typeof htmx !== 'undefined') {\n                document.getElementById('htmx-version').innerText = htmx.version;\n                document.getElementById('htmx-check').style.borderLeft = \"4px solid #4CAF50\";\n            } else {\n                document.getElementById('htmx-check').innerText = \"HTMX Offline\";\n                document.getElementById('htmx-check').style.background = \"#ff0000\";\n            }\n        });\n    </script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate

--- END OF FILE: ./internal/views/debug_templ.go ---

--- START OF FILE: ./internal/views/projects_templ.go ---
// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func ProjectsList() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"max-w-4xl fade-in\"><div class=\"flex items-baseline justify-between mb-8 border-b border-gray-200 pb-4\"><h2 class=\"text-xl font-medium\">Selected Engineering Work</h2><span class=\"font-mono text-xs text-gray-400\">03 Items</span></div><div class=\"grid grid-cols-1 gap-6\"><div class=\"spec-card group relative\"><div class=\"flex justify-between items-start mb-4\"><div><h3 class=\"font-bold text-lg\">High-Performance Portfolio</h3><div class=\"font-mono text-xs text-gray-500 mt-1\">/infrastructure/web</div></div><a href=\"https://github.com/erlint1212/portfolio-website\" target=\"_blank\" class=\"text-xs font-mono underline hover:text-gray-600\">source_code</a></div><p class=\"text-sm text-gray-600 mb-6 max-w-xl leading-relaxed\">A distributed system serving this website. Built to demonstrate <strong>infrastructure-as-code</strong> and network optimization. Features a sub-14kB initial TCP payload for maximum speed.</p><div class=\"mt-auto flex gap-2\"><span class=\"tech-badge\">Go</span> <span class=\"tech-badge\">Templ</span> <span class=\"tech-badge\">Tailwind</span> <span class=\"tech-badge\">HTMX</span> <span class=\"tech-badge\">RabbitMQ</span></div></div><div class=\"spec-card group\"><div class=\"flex justify-between items-start mb-4\"><div><h3 class=\"font-bold text-lg\">Event Bus Architecture</h3><div class=\"font-mono text-xs text-gray-500 mt-1\">/backend/messaging</div></div><div class=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\" title=\"Live System\"></div></div><p class=\"text-sm text-gray-600 mb-6 max-w-xl leading-relaxed\">Implementation of the AMQP protocol using RabbitMQ. Handles decoupling of services via Topic Exchanges.  Includes a durable queue setup for message persistence.</p><div class=\"mt-auto flex gap-2\"><span class=\"tech-badge\">RabbitMQ</span> <span class=\"tech-badge\">Event Sourcing</span> <span class=\"tech-badge\">Concurrency</span></div></div><div class=\"spec-card group\"><div class=\"flex justify-between items-start mb-4\"><div><h3 class=\"font-bold text-lg\">WASM Physics Engine</h3><div class=\"font-mono text-xs text-gray-500 mt-1\">/experimental/graphics</div></div><button hx-get=\"/games/rpg\" hx-target=\"#main-viewport\" hx-swap=\"innerHTML\" class=\"text-xs border border-black px-3 py-1 hover:bg-black hover:text-white transition-colors uppercase font-medium tracking-wide\">Launch Interactive</button></div><p class=\"text-sm text-gray-600 mb-6 max-w-xl leading-relaxed\">A physics sandbox compiled to WebAssembly. Demonstrates the capability of running non-JS code (Godot/C++) in the browser context with near-native performance.</p><div class=\"mt-auto flex gap-2\"><span class=\"tech-badge\">WebAssembly</span> <span class=\"tech-badge\">Godot 4</span> <span class=\"tech-badge\">Physics</span></div></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = SidebarNav("/projects", true).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func ProjectsPage() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = Base("Engineering", ProjectsList(), "/projects").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func GameView(gamePath string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<div class=\"h-full flex flex-col animate-fade-in max-w-5xl mx-auto\"><div class=\"flex justify-between items-center mb-6 border-b border-gray-200 pb-4\"><div><h2 class=\"text-lg font-bold\">Interactive Session</h2><div class=\"font-mono text-xs text-gray-500\">Instance: WASM_Container_01</div></div><button hx-get=\"/projects\" hx-target=\"#main-viewport\" hx-swap=\"innerHTML\" class=\"text-xs text-red-600 hover:text-red-800 font-medium underline\">Close Session</button></div><div class=\"aspect-video w-full bg-black shadow-xl border border-gray-900\"><iframe src=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 string
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(gamePath)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/projects.templ`, Line: 104, Col: 30}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" class=\"w-full h-full\" frameborder=\"0\"></iframe></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate

--- END OF FILE: ./internal/views/projects_templ.go ---

--- START OF FILE: ./internal/views/debug.templ ---
package views

templ HtmxIndicator() {
    <div 
        id="htmx-check"
        style="position: fixed; bottom: 10px; right: 10px; background: #333; color: #fff; padding: 5px 10px; border-radius: 5px; font-family: monospace; font-size: 12px; z-index: 9999; opacity: 0.8;"
    >
        HTMX: <span id="htmx-version">Loading...</span>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof htmx !== 'undefined') {
                document.getElementById('htmx-version').innerText = htmx.version;
                document.getElementById('htmx-check').style.borderLeft = "4px solid #4CAF50";
            } else {
                document.getElementById('htmx-check').innerText = "HTMX Offline";
                document.getElementById('htmx-check').style.background = "#ff0000";
            }
        });
    </script>
}

--- END OF FILE: ./internal/views/debug.templ ---

--- START OF FILE: ./internal/views/projects.templ ---
package views

templ ProjectsList() {
    <div class="max-w-4xl fade-in">
        <div class="flex items-baseline justify-between mb-8 border-b border-gray-200 pb-4">
            <h2 class="text-xl font-medium">Selected Engineering Work</h2>
            <span class="font-mono text-xs text-gray-400">03 Items</span>
        </div>

        <div class="grid grid-cols-1 gap-6">
            
            <div class="spec-card group relative">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="font-bold text-lg">High-Performance Portfolio</h3>
                        <div class="font-mono text-xs text-gray-500 mt-1">/infrastructure/web</div>
                    </div>
                    <a href="https://github.com/erlint1212/portfolio-website" target="_blank" class="text-xs font-mono underline hover:text-gray-600">source_code</a>
                </div>
                <p class="text-sm text-gray-600 mb-6 max-w-xl leading-relaxed">
                    A distributed system serving this website. Built to demonstrate <strong>infrastructure-as-code</strong> and network optimization.
                    Features a sub-14kB initial TCP payload for maximum speed.
                </p>
                <div class="mt-auto flex gap-2">
                    <span class="tech-badge">Go</span>
                    <span class="tech-badge">Templ</span>
                    <span class="tech-badge">Tailwind</span>
                    <span class="tech-badge">HTMX</span>
                    <span class="tech-badge">RabbitMQ</span>
                </div>
            </div>

            <div class="spec-card group">
                <div class="flex justify-between items-start mb-4">
                    <div>
                         <h3 class="font-bold text-lg">Event Bus Architecture</h3>
                        <div class="font-mono text-xs text-gray-500 mt-1">/backend/messaging</div>
                    </div>
                    <div class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse" title="Live System"></div>
                </div>
                <p class="text-sm text-gray-600 mb-6 max-w-xl leading-relaxed">
                    Implementation of the AMQP protocol using RabbitMQ. Handles decoupling of services via Topic Exchanges. 
                    Includes a durable queue setup for message persistence.
                </p>
                <div class="mt-auto flex gap-2">
                    <span class="tech-badge">RabbitMQ</span>
                    <span class="tech-badge">Event Sourcing</span>
                    <span class="tech-badge">Concurrency</span>
                </div>
            </div>

            <div class="spec-card group">
                <div class="flex justify-between items-start mb-4">
                     <div>
                        <h3 class="font-bold text-lg">WASM Physics Engine</h3>
                        <div class="font-mono text-xs text-gray-500 mt-1">/experimental/graphics</div>
                    </div>
                    <button 
                        hx-get="/games/rpg" 
                        hx-target="#main-viewport" 
                        hx-swap="innerHTML"
                        class="text-xs border border-black px-3 py-1 hover:bg-black hover:text-white transition-colors uppercase font-medium tracking-wide"
                    >
                        Launch Interactive
                    </button>
                </div>
                <p class="text-sm text-gray-600 mb-6 max-w-xl leading-relaxed">
                    A physics sandbox compiled to WebAssembly. Demonstrates the capability of running non-JS code (Godot/C++) in the browser context with near-native performance.
                </p>
                <div class="mt-auto flex gap-2">
                    <span class="tech-badge">WebAssembly</span>
                    <span class="tech-badge">Godot 4</span>
                    <span class="tech-badge">Physics</span>
                </div>
            </div>
        </div>
        @SidebarNav("/projects", true)
    </div>
}

templ ProjectsPage() {
    @Base("Engineering", ProjectsList(), "/projects")
}

templ GameView(gamePath string) {
    <div class="h-full flex flex-col animate-fade-in max-w-5xl mx-auto">
        <div class="flex justify-between items-center mb-6 border-b border-gray-200 pb-4">
             <div>
                <h2 class="text-lg font-bold">Interactive Session</h2>
                <div class="font-mono text-xs text-gray-500">Instance: WASM_Container_01</div>
            </div>
            <button 
                hx-get="/projects" 
                hx-target="#main-viewport" 
                hx-swap="innerHTML"
                class="text-xs text-red-600 hover:text-red-800 font-medium underline"
            >
                Close Session
            </button>
        </div>

        <div class="aspect-video w-full bg-black shadow-xl border border-gray-900">
            <iframe 
                src={ gamePath } 
                class="w-full h-full" 
                frameborder="0"
            ></iframe>
        </div>
    </div>
}

--- END OF FILE: ./internal/views/projects.templ ---

--- START OF FILE: ./internal/views/home_templ.go ---
// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Home(title string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = Base(title, homeContent(), "/").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func homeContent() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = HtmxIndicator().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"max-w-2xl fade-in\"><header class=\"mb-12\"><h1 class=\"text-3xl md:text-4xl font-semibold mb-6 leading-tight\">Backend Engineer specializing in <br><span class=\"text-gray-500\">Distributed Systems & Data Pipelines.</span></h1><p class=\"text-lg text-gray-600 leading-relaxed\">I build fault-tolerant infrastructure and high-performance data tools.  Currently bridging the gap between <strong class=\"text-black font-medium\">Statistical Modeling</strong> (MSc) and <strong class=\"text-black font-medium\">Systems Engineering</strong> (Go/K8s).</p></header><hr class=\"border-gray-200 mb-12\"><div class=\"grid grid-cols-1 md:grid-cols-2 gap-12\"><div><h3 class=\"font-mono text-xs uppercase tracking-widest text-gray-500 mb-4\">Core Technology</h3><ul class=\"space-y-3 text-sm\"><li class=\"flex items-baseline justify-between border-b border-gray-100 pb-2\"><span class=\"font-medium\">Go (Golang)</span> <span class=\"font-mono text-xs text-gray-400\">Backend</span></li><li class=\"flex items-baseline justify-between border-b border-gray-100 pb-2\"><span class=\"font-medium\">Nix / NixOS</span> <span class=\"font-mono text-xs text-gray-400\">Infra</span></li><li class=\"flex items-baseline justify-between border-b border-gray-100 pb-2\"><span class=\"font-medium\">Kubernetes</span> <span class=\"font-mono text-xs text-gray-400\">Orchestration</span></li><li class=\"flex items-baseline justify-between border-b border-gray-100 pb-2\"><span class=\"font-medium\">RabbitMQ</span> <span class=\"font-mono text-xs text-gray-400\">Messaging</span></li></ul></div><div><h3 class=\"font-mono text-xs uppercase tracking-widest text-gray-500 mb-4\">Focus Areas</h3><ul class=\"space-y-3 text-sm text-gray-600\"><li>→ <strong>Event-Driven Architecture:</strong> Designing systems that scale horizontally.</li><li>→ <strong>Reproducibility:</strong> Eliminating \"it works on my machine\" with Nix.</li><li>→ <strong>Data Engineering:</strong> ETL pipelines for heavy ML workloads.</li></ul><div class=\"mt-8\"><button hx-get=\"/projects\" hx-target=\"#main-viewport\" hx-swap=\"innerHTML\" hx-push-url=\"true\" class=\"text-sm font-medium border-b border-black hover:border-gray-400 transition-colors pb-0.5\">View Engineering Projects →</button></div></div></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate

--- END OF FILE: ./internal/views/home_templ.go ---

--- START OF FILE: ./internal/views/home.templ ---
package views

templ Home(title string) {
    @Base(title, homeContent(), "/")
}

templ homeContent() {
    @HtmxIndicator()
    
    <div class="max-w-2xl fade-in">
        <header class="mb-12">
            <h1 class="text-3xl md:text-4xl font-semibold mb-6 leading-tight">
                Backend Engineer specializing in <br/>
                <span class="text-gray-500">Distributed Systems & Data Pipelines.</span>
            </h1>
            <p class="text-lg text-gray-600 leading-relaxed">
                I build fault-tolerant infrastructure and high-performance data tools. 
                Currently bridging the gap between <strong class="text-black font-medium">Statistical Modeling</strong> (MSc) and <strong class="text-black font-medium">Systems Engineering</strong> (Go/K8s).
            </p>
        </header>

        <hr class="border-gray-200 mb-12"/>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <div>
                <h3 class="font-mono text-xs uppercase tracking-widest text-gray-500 mb-4">Core Technology</h3>
                <ul class="space-y-3 text-sm">
                    <li class="flex items-baseline justify-between border-b border-gray-100 pb-2">
                        <span class="font-medium">Go (Golang)</span>
                        <span class="font-mono text-xs text-gray-400">Backend</span>
                    </li>
                    <li class="flex items-baseline justify-between border-b border-gray-100 pb-2">
                        <span class="font-medium">Nix / NixOS</span>
                        <span class="font-mono text-xs text-gray-400">Infra</span>
                    </li>
                    <li class="flex items-baseline justify-between border-b border-gray-100 pb-2">
                        <span class="font-medium">Kubernetes</span>
                        <span class="font-mono text-xs text-gray-400">Orchestration</span>
                    </li>
                    <li class="flex items-baseline justify-between border-b border-gray-100 pb-2">
                        <span class="font-medium">RabbitMQ</span>
                        <span class="font-mono text-xs text-gray-400">Messaging</span>
                    </li>
                </ul>
            </div>

            <div>
                <h3 class="font-mono text-xs uppercase tracking-widest text-gray-500 mb-4">Focus Areas</h3>
                 <ul class="space-y-3 text-sm text-gray-600">
                    <li>→ <strong>Event-Driven Architecture:</strong> Designing systems that scale horizontally.</li>
                    <li>→ <strong>Reproducibility:</strong> Eliminating "it works on my machine" with Nix.</li>
                    <li>→ <strong>Data Engineering:</strong> ETL pipelines for heavy ML workloads.</li>
                </ul>
                <div class="mt-8">
                    <button 
                        hx-get="/projects" 
                        hx-target="#main-viewport" 
                        hx-swap="innerHTML"
                        hx-push-url="true"
                        class="text-sm font-medium border-b border-black hover:border-gray-400 transition-colors pb-0.5"
                        >
                            View Engineering Projects →
                    </button>
                </div>
            </div>
        </div>
    </div>
}

--- END OF FILE: ./internal/views/home.templ ---

--- START OF FILE: ./internal/views/layout_templ.go ---
// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func navLinkClass(isActive bool) string {
	base := "block px-3 py-1.5 text-sm transition-colors duration-150 rounded-sm"
	if isActive {
		return base + " bg-black text-white font-medium"
	}
	return base + " text-gray-600 hover:text-black hover:bg-gray-100"
}

func SidebarNav(currentPath string, oob bool) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<nav id=\"sidebar-nav\" class=\"space-y-0.5 flex-grow font-medium\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if oob {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, " hx-swap-oob=\"true\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "><div class=\"text-[10px] uppercase tracking-widest text-gray-400 mb-2 font-mono\">Directory</div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 = []any{navLinkClass(currentPath == "/")}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var2...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<a href=\"/\" class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var2).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/layout.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\">Index</a> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 = []any{navLinkClass(currentPath == "/projects")}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var4...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<a href=\"/projects\" class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var5 string
		templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var4).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/layout.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\">Engineering</a> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var6 = []any{navLinkClass(false)}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var6...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<a href=\"https://github.com/erlint1212\" target=\"_blank\" class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var7 string
		templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var6).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/layout.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "\">GitHub ↗</a></nav>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func Base(title string, content templ.Component, currentPath string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var8 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var8 == nil {
			templ_7745c5c3_Var8 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "<!doctype html><html lang=\"en\"><head><title>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var9 string
		templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(title)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/layout.templ`, Line: 36, Col: 16}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</title><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><link rel=\"stylesheet\" href=\"https://rsms.me/inter/inter.css\"><script src=\"https://unpkg.com/htmx.org@1.9.10\"></script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ.Raw("<style>"+UnsafeLoadCSS()+"</style>").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</head><body class=\"overflow-hidden bg-white\"><div class=\"swiss-layout w-full max-w-[1600px] mx-auto border-x border-gray-200 shadow-sm\"><aside class=\"bg-[#fbfcff] border-r border-gray-200 flex flex-col p-6 z-20\"><div class=\"mb-10\"><div class=\"w-8 h-8 bg-black mb-4\"></div><h1 class=\"text-sm font-bold tracking-tight\">Erling T. Nordtvedt</h1><p class=\"text-xs text-gray-500 font-mono mt-1\">MSc Data Science</p></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = SidebarNav(currentPath, false).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "</aside><main class=\"relative bg-white overflow-y-auto scroll-smooth p-10 md:p-16 flex flex-col min-h-screen\" id=\"main-viewport\"><div class=\"flex-grow\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = content.Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "</div><nav class=\"space-y-0.5 flex-grow font-medium\"><div class=\"text-[10px] uppercase tracking-widest text-gray-400 mb-2 font-mono\">Directory</div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var10 = []any{navLinkClass(currentPath == "/")}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var10...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "<a id=\"nav-home\" href=\"/\" class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var11 string
		templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var10).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/layout.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "\">Index</a> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var12 = []any{navLinkClass(currentPath == "/projects")}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var12...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "<a id=\"nav-projects\" href=\"/projects\" class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var13 string
		templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var12).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/layout.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "\">Engineering</a> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var14 = []any{navLinkClass(false)}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var14...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "<a href=\"https://github.com/erlint1212\" target=\"_blank\" class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var15 string
		templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var14).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/views/layout.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "\">GitHub ↗</a></nav><footer class=\"mt-24 pt-8 border-t border-gray-100 text-xs text-gray-400 font-mono\"><div class=\"flex flex-col md:flex-row justify-between gap-4\"><div class=\"flex gap-6\"><span>&copy; 2026 Erling T. Nordtvedt</span> <span class=\"text-gray-300\">|</span> <span>Oslo, Norway</span></div><div class=\"flex items-center gap-2\"><span class=\"w-2 h-2 rounded-full bg-emerald-500\"></span> <span>Powered by the <strong class=\"text-gray-600 font-medium\">GOTH Stack</strong></span></div></div></footer></main></div></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate

--- END OF FILE: ./internal/views/layout_templ.go ---

--- START OF FILE: ./internal/server/server.go ---
package server

import (
	"log"
	"net/http"
	"time"

	"github.com/a-h/templ"
	"github.com/erlint1212/portfolio/internal/messaging"
	"github.com/erlint1212/portfolio/internal/routing"
	"github.com/erlint1212/portfolio/internal/views"
)

type Server struct {
	Addr      string
	Client    *messaging.Client
	Publisher *messaging.Publisher 
}

func addGodotHeaders(next http.Handler) http.Handler {
	return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		w.Header().Set("Cross-Origin-Opener-Policy", "same-origin")
		w.Header().Set("Cross-Origin-Embedder-Policy", "require-corp")
		next.ServeHTTP(w, r)
	})
}

func (s *Server) handlerUserStartGame(w http.ResponseWriter, r *http.Request) {
	if s.Publisher != nil {
		msg := "User started RPG Game"
		gl := routing.GameLog{
			CurrentTime: time.Now(),
			Message:     msg,
		}
		err := s.Publisher.PublishGameLog(r.Context(), gl)
		if err != nil {
			log.Printf("Failed to publish event: %v", err)
		}
	} else {
		log.Println("[WARNING] Publisher is nil, skipping log.")
	}

	templ.Handler(views.GameView("/assets/games/rpg/index.html")).ServeHTTP(w, r)
}

func (s *Server) handlerProjects(w http.ResponseWriter, r *http.Request) {
    if r.Header.Get("HX-Request") == "true" {
        templ.Handler(views.ProjectsList()).ServeHTTP(w, r)
    } else {
        templ.Handler(views.ProjectsPage()).ServeHTTP(w, r)
    }
}

func (s *Server) RegisterRoutes() http.Handler {
	mux := http.NewServeMux()

	home_component := views.Home("Portfolio Page")

	mux.Handle("/", templ.Handler(home_component))
	mux.HandleFunc("/projects", s.handlerProjects)

	file_server := http.FileServer(http.Dir("./assets"))
	mux.Handle("/assets/", http.StripPrefix("/assets/", addGodotHeaders(file_server)))

	mux.HandleFunc("/games/rpg", s.handlerUserStartGame)

	return mux
}

func NewServer(addr string, client *messaging.Client, pub *messaging.Publisher) *Server {
	return &Server{
		Addr:      addr,
		Client:    client,
		Publisher: pub,
	}
}

func (s *Server) ListenAndServe() error {
	srv := &http.Server{
		Addr:    s.Addr,
		Handler: s.RegisterRoutes(),
	}
	return srv.ListenAndServe()
}

--- END OF FILE: ./internal/server/server.go ---

--- START OF FILE: ./cmd/web/main.go ---
package main

import (
	"log"
	"os"
	"os/signal"
	"syscall"
	"net/http"

	"github.com/erlint1212/portfolio/internal/messaging"
	"github.com/erlint1212/portfolio/internal/routing"
	"github.com/erlint1212/portfolio/internal/server"
)

func main() {
	const amqpURL = "amqp://guest:guest@localhost:5672/"
	const port = ":8001"

	client, err := messaging.NewClient(amqpURL)
	if err != nil {
		log.Printf("[WARNING] Could not connect to RabbitMQ: %v. Running in offline mode.", err)
	} else {
		defer client.Close()
	}

	var publisher *messaging.Publisher
	if client != nil {
		publisher, err = messaging.NewPublisher(client.Conn)
		if err != nil {
			log.Printf("[ERROR] Could not create publisher: %v", err)
		} else {
			defer publisher.Close()
		}
	}

	srv := server.NewServer(port, client, publisher)

	if client != nil {
		err := messaging.Subscribe(
			client.Conn,
			routing.ExchangePortfolioTopic,
			routing.GameLogSlug,
			routing.GameLogSlug+".*",
			routing.Durable,
			messaging.HandlerWriteLog(), 
			messaging.UnmarshalGob,
		)
		if err != nil {
			log.Printf("[WARNING] Failed to subscribe to %s: %v\n", routing.GameLogSlug, err)
		}
	}

	stop := make(chan os.Signal, 1)
	signal.Notify(stop, os.Interrupt, syscall.SIGTERM)

	go func() {
		// 2. Attempt to start the server. This function blocks until the 
    	//    server is turned off.
    	//    Capture any error it returns into the variable 'err'.
		log.Printf("Serving on: http://localhost%s/", srv.Addr)
		if err := srv.ListenAndServe(); err != nil && err != http.ErrServerClosed {
			// 3.  check for a specific error: http.ErrServerClosed.
			//    When  eventually call `srv.Shutdown()` (in the main thread), 
			//    `ListenAndServe` will return this specific error.
			//    
			//     WANT that error; it means  shut down successfully.
			//     only want to log a Fatal crash if the error is NOT "ServerClosed"
			//    (e.g., if the port 8000 is already in use by another program).
			log.Fatalf("Listen: %s\n", err)
		}
	}()

	<- stop
	log.Println("\nShutting down server...")

	if client != nil {
		client.Close()
	}
	log.Println("Server exited properly")
}

--- END OF FILE: ./cmd/web/main.go ---
